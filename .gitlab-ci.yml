variables:
  PROJECT_NAME: label_tool
  OUT_PORT: 11000

label_tool:
  allow_failure: true
  script:
    - docker build -t  $PROJECT_NAME .
    - docker stop $(docker ps -a | grep "$PROJECT_NAME" | awk '{print $1 }')
    - docker rm $(docker ps -a | grep "$PROJECT_NAME" | awk '{print $1 }')
    - docker run --name $PROJECT_NAME -itd -p $OUT_PORT:9766 --mount type=bind,source=/userdata/label_tool,target=/userdata/label_tool  $PROJECT_NAME

  tags:
    - testing